# 🎨 随机壁纸设置器

一个功能强大的随机壁纸设置器，支持多种图片API，具有现代化的图形用户界面。

## ✨ 功能特点

- 🖼️ **多种图片API支持**：内置6种不同类型的图片API
- 🎯 **实时图片预览**：获取图片后立即预览
- 🖥️ **一键设置壁纸**：支持Windows、macOS、Linux系统
- 💾 **图片保存功能**：可保存喜欢的图片到本地
- 🎨 **图片清晰化处理**：自动优化图片质量
- 📁 **文件夹管理**：快速打开图片文件夹
- 🔧 **自定义API支持**：支持输入自定义图片API

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install pillow requests
```

### 2. 运行程序

#### 方法一：直接运行GUI
```bash
python gui.py
```

#### 方法二：使用启动脚本
```bash
python run_gui.py
```

## 📋 使用说明

### 主界面布局

```
┌─────────────────────────────────────────┐
│           🎨 随机壁纸设置器              │
├─────────────────────────────────────────┤
│ API 选择                                │
│ ├─ 选择图片API: [下拉菜单]              │
│ └─ 自定义API: [输入框] [测试]           │
├─────────────────────────────────────────┤
│ 图片预览                                │
│ ┌─────────────────────────────────────┐ │
│ │                                     │ │
│ │        图片预览区域                  │ │
│ │                                     │ │
│ └─────────────────────────────────────┘ │
├─────────────────────────────────────────┤
│ [🖼️ 获取随机图片] [🖥️ 设置为壁纸]      │
│ [💾 保存图片] [📁 打开图片文件夹]       │
├─────────────────────────────────────────┤
│ 图片数量: 0                    就绪     │
└─────────────────────────────────────────┘
```

### 操作步骤

1. **选择API**：
   - 从下拉菜单选择预设的图片API
   - 或输入自定义API地址并点击"测试"

2. **获取图片**：
   - 点击"🖼️ 获取随机图片"按钮
   - 等待图片下载完成，预览区域会显示图片

3. **设置壁纸**：
   - 点击"🖥️ 设置为壁纸"按钮
   - 系统会自动将当前预览的图片设置为桌面壁纸

4. **保存图片**：
   - 点击"💾 保存图片"按钮
   - 选择保存位置和文件名

5. **管理图片**：
   - 点击"📁 打开图片文件夹"查看所有下载的图片

## 🎯 支持的API类型

| API类型 | 描述 | 地址 |
|---------|------|------|
| api1 | 随机各类壁纸 | https://api.btstu.cn/sjbz/api.php |
| api2 | 随机动漫壁纸 | https://api.paugram.com/wallpaper/ |
| api3 | 随机二次元 | https://cdn.seovx.com/d/?mom=302 |
| api4 | 随机美图 | https://cdn.seovx.com/?mom=302 |
| api5 | 随机古风 | https://cdn.seovx.com/ha/?mom=302 |
| api6 | 樱花二次元 | https://www.dmoe.cc/random.php |
| random | 随机选择 | 从上述API中随机选择 |

## 🔧 自定义API

你可以输入任何返回图片的API地址，程序会自动检测图片格式并下载。

### API要求：
- 返回HTTP状态码200
- 返回有效的图片文件
- 支持GET请求

### 测试API：
点击"测试"按钮可以验证API是否可用。

## 📁 文件结构

```
ImageRandom/
├── imgRandom.py          # 原始命令行版本
├── imgRandom_gui.py      # GUI版本主程序
├── run_gui.py           # GUI启动脚本
├── images/              # 图片保存目录
├── imgRandom.log        # 日志文件
└── README_GUI.md        # 本说明文档
```

## 🛠️ 系统要求

- **操作系统**：Windows 10/11, macOS 10.14+, Linux
- **Python版本**：Python 3.6+
- **依赖包**：tkinter, PIL (Pillow), requests

## 🔍 故障排除

### 常见问题

1. **GUI无法启动**
   - 检查Python版本是否为3.6+
   - 确认已安装所有依赖包

2. **图片下载失败**
   - 检查网络连接
   - 尝试更换API
   - 查看日志文件了解详细错误

3. **壁纸设置失败**
   - 确认图片文件存在且完整
   - 检查系统权限
   - Windows用户可能需要以管理员身份运行

4. **预览显示异常**
   - 确认图片格式支持
   - 检查PIL库是否正确安装

### 日志查看

程序运行时会生成 `imgRandom.log` 文件，包含详细的运行日志，可用于故障排查。

## 🎨 界面截图

程序具有现代化的界面设计，包含：
- 清晰的布局结构
- 直观的操作按钮
- 实时状态显示
- 图片预览功能

## 📝 更新日志

### v1.0.0
- 初始GUI版本发布
- 支持多种图片API
- 实时图片预览
- 一键设置壁纸
- 图片保存功能

## 🤝 贡献

欢迎提交问题报告和功能建议！

## �� 许可证

本项目采用Apache license 2.0许可证。
